rule("Initialize global variables")
{
	event
	{
		Ongoing - Global;
	}
	
	actions
	{
		Set Global Variable At Index(A, 1, 0);
	}
}

rule("Initialize text")
{
	event
	{
		Ongoing - Global;
	}
	
	actions
	{
		Set Global Variable At Index(A, 0, Vector(0, 0, 0));
		Create in-world text(All Players(Team(All)), Value in Array(Global Variable(A), 1), Value in Array(Global Variable(A), 0), 3, Do not clip, Visible to position and string);
	}
}

rule("Move text to shot target")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}
	
	conditions
	{
		Is Button Held(Event Player, Primary Fire) == true;
	}
	
	actions
	{
		Set Global Variable At Index(A, 1, Add(Value in Array(Global Variable(A), 1), 1));
		Set Global Variable At Index(A, 0, Ray cast hit position(Add(Position of(Event Player), Up), Add(Add(Position of(Event Player), Multiply(100, Facing direction of(Event Player))), Up), All Players(Team(All)), Event Player, true));
	}
}

