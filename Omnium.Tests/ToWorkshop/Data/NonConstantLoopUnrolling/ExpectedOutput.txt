rule("Initialize global variables")
{
	event
	{
		Ongoing - Global;
	}
	
	actions
	{
		Set Global Variable At Index(A, 0, 0);
	}
}

rule("Hello World")
{
	event
	{
		Ongoing - Global;
	}
	
	actions
	{
		Skip If(Compare(Value in Array(Global Variable(A), 0), ==, 2), 14);
		Skip If(Compare(Value in Array(Global Variable(A), 0), ==, 1), 4);
		Big Message(All Players(Team(All)), String("Starting", Null, Null, Null));
		Set Global Variable At Index(A, 1, 0);
		Set Global Variable(B, All Players(Team(All)));
		Set Global Variable At Index(A, 0, 1);
		Skip If(Compare(Value in Array(Global Variable(A), 1), >=, Count Of(Global Variable(B))), 5);
		Set Global Variable At Index(A, 2, Value In Array(Global Variable(B), Value in Array(Global Variable(A), 1)));
		Small Message(Value in Array(Global Variable(A), 2), String("{0} {1}", String("Hello", Null, Null, Null), Value in Array(Global Variable(A), 2), Null));
		Wait(0.3, Ignore condition);
		Set Global Variable At Index(A, 1, Add(Value in Array(Global Variable(A), 1), 1));
		Loop;
		Set Global Variable At Index(A, 0, 0);
		Set Global Variable At Index(A, 3, true);
		Set Global Variable At Index(A, 0, 2);
		Wait(1, Ignore condition);
		Skip If(Value in Array(Global Variable(A), 3), 2);
		Small Message(All Players(Team(All)), String("Tock", Null, Null, Null));
		Skip(1);
		Small Message(All Players(Team(All)), String("Tick", Null, Null, Null));
		Set Global Variable At Index(A, 3, Not(Value in Array(Global Variable(A), 3)));
		Loop;
	}
}

